raw_data <- read_csv("../data/raw_data/'DATASET FOR NEW BODY FAT MEASUREMENT.csv'")
library(tidyverse)
raw_data <- read_csv("../data/raw_data/'DATASET FOR NEW BODY FAT MEASUREMENT.csv'")
raw_data <- read_csv("./data/raw_data/'DATASET FOR NEW BODY FAT MEASUREMENT.csv'")
raw_data <- read_csv("/data/raw_data/'DATASET FOR NEW BODY FAT MEASUREMENT.csv'")
raw_data <- read_csv("./data/raw_data/'DATASET FOR NEW BODY FAT MEASUREMENT.csv'")
raw_data <- read_csv("./data/raw_data/DATASET FOR NEW BODY FAT MEASUREMENT.csv")
write_csv(raw_data, "data/raw_data/raw_data.csv")
raw_data <- read_csv("../data/raw_data/raw_data.csv")
raw_data <- read_csv("./data/raw_data/raw_data.csv")
View(raw_data)
library(tidyverse)
library(janitor)
library(arrow)
library(dplyr)
write_parquet(raw_data, "data/analysis_data/analysis_data.parquet")
#### Save data ####
write_parquet(raw_data, "data/analysis_data/analysis_data.parquet")
raw_data <- read_parquet("./data/raw_data/raw_data.csv")
write_parquet(raw_data, "data/analysis_data/analysis_data.parquet")
raw_data <- read_parquet("./data/raw_data/raw_data.parquet")
raw_data <- read_csv("./data/raw_data/raw_data.csv")
write_parquet(raw_data, "data/analysis_data/analysis_data.parquet")
analysis_data <- write_parquet(raw_data, "data/analysis_data/analysis_data.parquet")
View(analysis_data)
raw_data <- read_csv("./data/raw_data/demo.csv")
analysis_data <- write_csv(raw_data, "data/raw_data/raw_data.csv")
write_csv(raw_data, "data/raw_data/raw_data.csv")
raw_data <- read_csv("./data/raw_data/demo.csv")
#### Save data ####
write_csv(raw_data, "data/raw_data/raw_data.csv")
raw_data <- read_csv("./data/raw_data/raw_data.csv")
raw_data <- read_csv("./data/raw_data/raw_data.csv")
raw_data <- read.csv("./data/raw_data/raw_data.csv")
raw_data <- read.csv("./data/raw_data/demo.csv")
raw_data <- read_csv("./data/raw_data/demo.csv")
raw_data <- read_csv("./data/raw_data/demo.csv", ";")
raw_data <- read_csv2("./data/raw_data/demo.csv")
View(raw_data)
View(raw_data)
raw_data2 <- read_csv2("./data/raw_data/demo.csv")
raw_data <- read_csv("./data/raw_data/demo.csv")
df <- read_delim("demo.csv", delim = ";|,", col_names = TRUE)
df <- read_delim("./data/raw_data/demo.csv", delim = ";|,", col_names = TRUE)
file_content <- readLines("./data/raw_data/demo.csv")
# Replace semicolons with commas
file_content <- gsub(";", ",", file_content)
# Write to a temporary file
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
# Read the modified file
df <- read.csv(temp_file, header = TRUE)
View(df)
df <- read_csv(temp_file, header = TRUE)
df <- read_csv(temp_file)
df <- read.csv(temp_file, header = TRUE)
View(df)
file_content <- gsub(",", ";", file_content)
# Write to a temporary file
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
# Read the modified file
df <- read_csv2(temp_file)
View(df)
file_content <- readLines("./data/raw_data/demo.csv")
# Replace semicolons with commas
file_content <- gsub(",", ".", file_content)
file_content <- gsub(";", ",", file_content)
# Write to a temporary file
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
# Read the modified file
df <- read_csv2(temp_file)
View(df)
file_content <- gsub(",", ".", file_content)
# Write to a temporary file
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
# Read the modified file
df <- read_csv2(temp_file)
file_content <- gsub(",", ".", file_content)
file_content
file_content <- readLines("./data/raw_data/demo.csv")
file_content
file_content <- gsub(",", ".", file_content)
file_content
# Write to a temporary file
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
# Read the modified file
df <- read_csv2(temp_file)
file_content <- readLines("./data/raw_data/demo.csv")
# Replace semicolons with commas
file_content <- gsub(",", ".", file_content)
file_content <- gsub(";", ",", file_content)
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
write_csv(temp_file)
file_content <- readLines("./data/raw_data/demo.csv")
# Replace semicolons with commas
file_content <- gsub(",", ".", file_content)
file_content <- gsub(";", ",", file_content)
file_content <- gsub(";", ",", file_content)
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
write_csv(temp_file)
temp_file
read_csv(temp_file)
file_content <- gsub(",", ".", file_content)
file_content <- readLines("./data/raw_data/demo.csv")
# Replace semicolons with commas
file_content <- gsub(",", ".", file_content)
file_content
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
df <- read_csv2(temp_file)
file_content <- readLines("./data/raw_data/demo.csv")
# Replace semicolons with commas
file_content <- gsub(""/"", "", file_content)
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
file_content <- gsub('"', "", file_content)
file_content <- gsub(",", ".", file_content)
file_content <- gsub(";", ",", file_content)
file_content <- readLines("./data/raw_data/demo.csv")
# Replace semicolons with commas
file_content <- gsub('"', "", file_content)
file_content <- gsub(",", ".", file_content)
file_content <- gsub(";", ",", file_content)
df <- read_csv(temp_file)
(temp_file)
df <- read_csv2(temp_file)
df <- read_csv(temp_file)
file_content <- readLines("./data/raw_data/demo.csv")
# Replace semicolons with commas
file_content <- gsub('"', "", file_content)
file_content <- gsub(",", ".", file_content)
file_content <- gsub(";", ",", file_content)
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
temp_file
file_content
clear
file_content
# Read the modified file
df <- read.csv((temp_file)
df <- read.csv(temp_file)
df <- read.csv(temp_file)
View(df)
file_content <- readLines("./data/raw_data/raw_data.csv")
# Replace semicolons with commas
file_content <- gsub('"', "", file_content)
file_content <- gsub(",", ".", file_content)
file_content <- gsub(";", ",", file_content)
# Write to a temporary file
temp_file <- tempfile(fileext = ".csv")
writeLines(file_content, temp_file)
read_csv(temp_file)
# Read the modified file
df <- read.csv(temp_file)
write_csv(df, "data/raw_data/analysis_data.csv")
View(df)
raw_data <- read_csv("./data/raw_data/local-testA/measurements.csv")
View(raw_data)
write_csv(raw_data, "data/raw_data/raw_data.csv")
library(tidyverse)
raw_data <- read_csv("./data/raw_data/local-testA/measurements.csv")
#### Save data ####
write_csv(raw_data, "data/raw_data/raw_data.csv")
raw_data <- read_csv("data/raw_data/raw_data.csv")
View(raw_data)
write_csv(df, "data/analysis_data/analysis_data.csv")
analysis_data <- raw_data
write_csv(analysis_data, "data/analysis_data/analysis_data.csv")
write_parquet(analysis_data, "data/analysis_data/analysis_data.parquet")
analysis_data <- read_csv("data/analysis_data/analysis_data.csv")
analysis_data <- read_csv("data/analysis_data/analysis_data.parquet")
analysis_data <- read_parquet("data/analysis_data/analysis_data.parquet")
View(analysis_data)
View(raw_data)
View(raw_data)
subject_sex_data <- read_csv("./data/raw_data/local-train/hwg.metadata.csv")
subject_sex_data <- read_csv("./data/raw_data/local-train/hwg_metadata.csv")
View(subject_sex_data)
write_csv(raw_data, "data/raw_data/subject_sex_data.csv")
subject_sex_data <- read_csv("data/raw_data/subject_sex_data.csv")
View(subject_sex_data)
View(subject_sex_data)
subject_sex_data <- read_csv("./data/raw_data/local-train/subject_sex_data.csv")
subject_sex_data <- read_csv("data/raw_data/subject_sex_data.csv")
View(subject_sex_data)
subject_sex_data <- read_csv("data/raw_data/subject_sex_data.csv")
subject_sex_data <- read_csv("./data/raw_data/local-train/hwg_metadata.csv")
write_parquet(subject_sex_data, "data/raw_data/subject_sex_data.parquet")
subject_sex_data <- read_csv("data/raw_data/subject_sex_data.csv")
subject_sex_data <- read_parquet("data/raw_data/subject_sex_data.parquet")
View(subject_sex_data)
measurements_data <- read_csv("./data/raw_data/local-train/measurements.csv")
write_parquet(measurements_data, "data/raw_data/measurements_data.parquet")
measurements_data <- read_parquet("data/raw_data/measurements_data.parquet")
combined_data <- rbind(subject_sex_data, measurements_data)
combined_data <- merge(subject_sex_data, measurements_data, by = "subject_id")
combined_data <- merge(subject_sex_data, measurements_data, by = "subject_id")
View(combined_data)
cleaned_data <- combined_data %>%
clean_names()
View(cleaned_data)
cleaned_data <- combined_data %>%
clean_names() |>
as.numeric(factor(combined_data$gender, levels = c("male", "female"))) - 1
cleaned_data$gender <- as.numeric(factor(combined_data$gender, levels = c("male", "female"))) - 1
cleaned_data <- combined_data %>%
clean_names() |>
cleaned_data$gender <- as.numeric(factor(combined_data$gender, levels = c("male", "female"))) - 1
cleaned_data <- combined_data %>%
clean_names() %>%
cleaned_data$gender <- as.numeric(factor(combined_data$gender, levels = c("male", "female"))) - 1
cleaned_data <- combined_data %>%
clean_names()
cleaned_data$gender <- as.numeric(factor(combined_data$gender, levels = c("male", "female"))) - 1
View(cleaned_data)
cleaned_data <- combined_data %>%
clean_names() %>%
mutate(waist_hip_ratio = waist / hip)
View(cleaned_data)
cleaned_data <- combined_data %>%
clean_names() %>%
mutate(waist_hip_ratio = waist / hip) %>%
mutate(original_bmi = weight_kg / (height_cm / 100)^2)
View(cleaned_data)
View(cleaned_data)
View(cleaned_data)
#### Preamble ####
# Purpose: Cleans the Marriage License data
# Author: Aamishi Avarsekar
# Date: 19th September 2024
# Contact: aamishi.avarsekar@mail.utoronto.ca
# License: MIT
#### Workspace setup ####
library(tidyverse)
library(janitor)
library(arrow)
library(dplyr)
#### Read data ####
subject_sex_data <- read_parquet("data/raw_data/subject_sex_data.parquet")
measurements_data <- read_parquet("data/raw_data/measurements_data.parquet")
View(cleaned_data)
analysis_data <- cleaned_data %>%
select(subject_id, gender, height_cm, weight_kg, height, ankle, wrist, waist_hip_ratio, original_bmi)
analysis_data
View(analysis_data)
analysis_data <- read_parquet("data/analysis_data/analysis_data.parquet")
data <- read_parquet("data/analysis_data/analysis_data.parquet")
data <- read_parquet("../data/analysis_data/analysis_data.parquet")
View(data)
colnames(data)
#| include: false
#| warning: false
#| message: false
library(tidyverse)
library(dplyr)
data <- read_parquet("../data/analysis_data/analysis_data.parquet")
#| label: fig-general-data-todo
#| fig-cap: General table TODO
#| echo: false
glimpse(data)
data <- read_parquet("../data/analysis_data/analysis_data.parquet")
library(tidyverse)
#| include: false
#| warning: false
#| message: false
library(tidyverse)
library(dplyr)
data <- read_parquet("../data/analysis_data/analysis_data.parquet")
#| include: false
#| warning: false
#| message: false
library(tidyverse)
library(dplyr)
library(arrow)
library(knitr)
data <- read_parquet("../data/analysis_data/analysis_data.parquet")
kable(data, caption = "Table: Sample Measurements of Subjects")
#| label: fig-general-data-todo
#| fig-cap: General table TODO
#| echo: false
kable(data, caption = "Table: Sample Measurements of Subjects")
cleaned_data <- combined_data %>%
clean_names() %>%
mutate(waist_hip_ratio = waist / hip) %>%
mutate(original_bmi = weight_kg / (height_cm / 100)^2) %>%
mutate(subject_id <- seq(1, nrow(combined_data)))
View(cleaned_data)
cleaned_data <- combined_data %>%
clean_names() %>%
mutate(waist_hip_ratio = waist / hip) %>%
mutate(original_bmi = weight_kg / (height_cm / 100)^2) %>%
mutate(subject_id = seq(1, nrow(combined_data)))
subject_sex_data <- read_parquet("data/raw_data/subject_sex_data.parquet")
measurements_data <- read_parquet("data/raw_data/measurements_data.parquet")
#### Clean data ####
combined_data <- merge(subject_sex_data, measurements_data, by = "subject_id")
cleaned_data <- combined_data %>%
clean_names() %>%
mutate(waist_hip_ratio = waist / hip) %>%
mutate(original_bmi = weight_kg / (height_cm / 100)^2) %>%
mutate(subject_id = seq(1, nrow(combined_data)))
cleaned_data$gender <- as.numeric(factor(combined_data$gender, levels = c("male", "female"))) - 1
analysis_data <- cleaned_data %>%
select(subject_id, gender, height_cm, weight_kg, height, ankle, wrist, waist_hip_ratio, original_bmi)
#### Save data ####
write_parquet(analysis_data, "data/analysis_data/analysis_data.parquet")
#| label: fig-general-data-todo
#| fig-cap: General table TODO
#| echo: false
kable(data, caption = "Table: Sample Measurements of Subjects")
data <- read_parquet("../data/analysis_data/analysis_data.parquet")
#| label: fig-general-data-todo
#| fig-cap: General table TODO
#| echo: false
kable(data, caption = "Table: Sample Measurements of Subjects")
#| include: false
#| warning: false
#| message: false
library(tidyverse)
library(dplyr)
library(arrow)
library(knitr)
data <- read_parquet("../data/analysis_data/analysis_data.parquet")
#| label: fig-general-data-todo
#| fig-cap: General table TODO
#| echo: false
kable(data, caption = "Table: Sample Measurements of Subjects")
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-general-data-todo
#| fig-cap: General table TODO
#| echo: false
kable(data, caption = "Table: Sample Measurements of Subjects")
